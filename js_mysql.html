<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/2.3.1/sha.js"></script>
JS MYSQL client example auth v0.1 (open console)
<script>
    //********************* invoke fetch: ***************************************//
    let algo = 'SHA1';

    let params  = {
        action: 'http://172.16.10.62:8082/bs-core/auth/first-message',
        userName: 'admin_mysql_sha1',// admin_mysql_sha1
        customer_key : 'qa'
    };
    get_serverNonce(params)
        .then(success => {
            resultA = success;
            console.log(success);
            return resultA;
        })
        .then(success => check_auth(
            {
                action: 'http://172.16.10.62:8082/bs-core/auth/final-message',
                userName: params.userName,
                serverNonce: success.data.serverNonce,
                encryptedServerNonce: success.data.encryptedServerNonce,
                authMode: success.data.authMode,
                customer_key: params.customer_key
            }
        ))
        .then(success => {
            resultB = success;
            console.log(success);
            return resultB;
        });


    //********************* methods: ***************************************//
    function get_serverNonce(params) {
        const payload = {
            userName: params.userName
        };

        return fetch(params.action, {
            method: "POST",
            body: JSON.stringify(payload),
            headers: new Headers({
                'Accept': 'application/json',
                'customer-key' : params.customer_key,
                'Content-type': 'application/json'
            })
        })
            .then(r => r.json());
    }
    function check_auth({action, userName, serverNonce, encryptedServerNonce, authMode, customer_key}) {
        // serverNonce = 'D1CDFD86BDC80C9ABE5BE3835B13DCCB4AF7A453';

        let protocolVersion = authMode.split('_')[0];
        algo = authMode.split('_')[1];
        console.log('algo: '+algo);
        console.log('protocolVersion: '+protocolVersion);
        serverNonce = serverNonce.toLowerCase();

        let p = 123;

        let clientProof = strXor(hex2bin(sha(p)) , hex2bin(sha_b64(hex2bin(serverNonce + sha_b64(hex2bin(sha(p)))))));

        console.log('leftPart: '+sha(p));
        console.log('storedPassword: '+sha_b64(hex2bin(sha(p))));
        console.log('rightPart: '+sha_b64(hex2bin(serverNonce + sha_b64(hex2bin(sha(p))))));
        console.log('clientProof: '+bin2hex(clientProof));


        const payload = {
            userName: userName,
            serverNonce: serverNonce,
            encryptedServerNonce: encryptedServerNonce,
            authMode: authMode,
            clientProof: bin2hex(clientProof)
        };
        return fetch(action, {
            method: "POST",
            body: JSON.stringify(payload),
            headers: new Headers({
                'Accept': 'application/json',
                'customer-key' : customer_key,
                'Content-type': 'application/json'
            })
        })
            .then(r => r.json());
    }



    //********************* other scripts: ***************************************//


    function sha( data ) {
        let favoriteAlgo = '';
        switch (algo) {
            case 'SHA1':
                favoriteAlgo = 'SHA-1';
                break;
            case 'sha256':
                favoriteAlgo = 'SHA-256';
                break;
            case 'sha512':
                favoriteAlgo = 'SHA-512';
                break;
            default:
                console.log( '2Bad hash algo choosen:' + algo );
        }
        let shaObj = new jsSHA("SHA-1", "TEXT");
        shaObj.update(String(data));
        let hash = shaObj.getHash("HEX");
        return hash;
    }

    function sha_b64( data ) {
        let favoriteAlgo = '';
        switch (algo) {
            case 'SHA1':
                favoriteAlgo = 'SHA-1';
                break;
            case 'sha256':
                favoriteAlgo = 'SHA-256';
                break;
            case 'sha512':
                favoriteAlgo = 'SHA-512';
                break;
            default:
                console.log( '1Bad hash algo choosen' );
        }
        let shaObj = new jsSHA("SHA-1", "B64");
        data = btoa(data);
        shaObj.update(String(data));

        let hash = shaObj.getHash("HEX");

        return hash;
    }

    function strXor( a, b ) {
        let len = Math.min( a.length, b.length );
        let arr = new Array( len );
        for( var i = 0; i < len; ++i )
            arr[i] = a.charCodeAt(i) ^ b.charCodeAt(i);
        return String.fromCharCode.apply( null, arr );
    }

    function hex2bin (s) {
        //  discuss at: http://locutus.io/php/hex2bin/
        // original by: Dumitru Uzun (http://duzun.me)
        //   example 1: hex2bin('44696d61')
        //   returns 1: 'Dima'
        //   example 2: hex2bin('00')
        //   returns 2: '\x00'
        //   example 3: hex2bin('2f1q')
        //   returns 3: false

        var ret = []
        var i = 0
        var l

        s += ''

        for (l = s.length; i < l; i += 2) {
            var c = parseInt(s.substr(i, 1), 16)
            var k = parseInt(s.substr(i + 1, 1), 16)
            if (isNaN(c) || isNaN(k)) return false
            ret.push((c << 4) | k)
        }

        return String.fromCharCode.apply(String, ret)
    }

    function bin2hex(s){
        // Converts the binary representation of data to hex
        //
        // version: 812.316
        // discuss at: http://phpjs.org/functions/bin2hex
        // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
        // +   bugfixed by: Onno Marsman
        // +   bugfixed by: Linuxworld
        // *     example 1: bin2hex('Kev');
        // *     returns 1: '4b6576'
        // *     example 2: bin2hex(String.fromCharCode(0x00));
        // *     returns 2: '00'
        var v,i, f = 0, a = [];
        s += '';
        f = s.length;

        for (i = 0; i<f; i++) {
            a[i] = s.charCodeAt(i).toString(16).replace(/^([\da-f])$/,"0$1");
        }
        return a.join('');
    }
</script>